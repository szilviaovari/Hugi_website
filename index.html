<!DOCTYPE html>
<html lang="en">
<head>
    <!--meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Szilvia Ovari, Hugi Website, Young Developer">
    <meta name="author" content="Szilvia Ovari">
    <meta name="description" content="My new, modern website!">

    <!--favicon-->
    <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />

    <!--add css,boostrap5,js-->
    <link rel="stylesheet" href="css_basic/style.css" type="text/css">
    <link rel="stylesheet" href="bootstrap/bootstrap-5.2.3-dist/css/bootstrap.min.css">

    <title>Hugi website | English</title>
</head>
<body>
    <header>
        <div class="container menu">
            <img src="img/logo/logo.png" alt="Logo" title="Logo" class="logo">
            <nav>
                <ul class="sidebar">
                    <li onclick=hideSidebar()><a href="#"><img src="img/navbar/close.png" alt="Close"></a></li>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">About Me</a></li>
                    <li><a href="#">Contact me</a></li>
                    <li><a href="./CV/Szilvia_Ovari_student_CV.pdf" target="_blank">See My CV</a></li>
                </ul>
                <ul>
                    <li class="hideOnMobile"><a href="#">Home</a></li>
                    <li class="hideOnMobile"><a href="#">About Me</a></li>
                    <li class="hideOnMobile"><a href="#">Contact me</a></li>
                    <li class="hideOnMobile"><a href="./CV/Szilvia_Ovari_student_CV.pdf" target="_blank">See My CV</a></li>
                    <li class="menu-button" onclick=showSidebar()><a href="#"><img src="img\navbar\menu.png" alt="Menu"></a></li>
                </ul>
            </nav>
            
        </div>
    </header>
    <main>
        <div class="container mt-5">
            <div class="row">
                <div class="col-md-6 col-sm-12 left-part">
                    <div class="image-container">
                        <img src="img/profile/profile.png" alt="My profile" title="My profile" class="profile-img">
                        <table class="dots-table-top">
                            <tbody>
                                <!-- 5 sor -->
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="dots-table-bottom">
                            <tbody>
                                <!-- 5 sor -->
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                                <tr>
                                    <td>•</td><td>•</td><td>•</td><td>•</td><td>•</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>
                <div class="col-md-6 col-sm-12 right-part">
                    <h1 class="name"><span class="letter-color1">S</span>zilvia <span class="letter-color1">O</span>vari</h1>
                    <div id="container">
                        <p id="text1"></p>
                        <p id="text2"></p>
                        <p id="text3"></p>
                        <p id="text4"></p>
                    </div>

                    <!-- The SVG filter used to create the merging effect -->
                    <svg id="filters">
                        <defs>
                            <filter id="threshold">
                                <!-- Basically just a threshold effect - pixels with a high enough opacity are set to full opacity, and all other pixels are set to completely transparent. -->
                                <feColorMatrix in="SourceGraphic"
                                        type="matrix"
                                        values="1 0 0 0 0
                                                        0 1 0 0 0
                                                        0 0 1 0 0
                                                        0 0 0 255 -140" />
                            </filter>
                        </defs>
                    </svg>
                </div>
            </div>
        </div>
    </main>
    <footer>

    </footer>
    <script>
        function showSidebar(){
            const sidebar = document.querySelector('.sidebar')
            sidebar.style.display = 'flex'
        }
        function hideSidebar(){
            const sidebar = document.querySelector('.sidebar')
            sidebar.style.display = 'none'
        }

        const elts = {
            text1: document.getElementById("text1"),
            text2: document.getElementById("text2"),
            text3: document.getElementById("text3"),
            text4: document.getElementById("text4")
        };

        const texts = [
            "Student",
            "Developer",
            "Innovator",
            "Programmer"
        ];

        const morphTime = 1;
        const cooldownTime = 0.25;


        let textIndex = texts.length - 1;
        let time = new Date();
        let morph = 0;
        let cooldown = cooldownTime;

        // Inicializálás
        elts.text1.textContent = texts[textIndex % texts.length];
        elts.text2.textContent = texts[(textIndex + 1) % texts.length];
        elts.text3.textContent = texts[textIndex % texts.length];
        elts.text4.textContent = texts[(textIndex + 1) % texts.length];

        function doMorph() {
            morph -= cooldown;
            cooldown = 0;
            
            let fraction = morph / morphTime;
            
            if (fraction > 1) {
                cooldown = cooldownTime;
                fraction = 1;
            }
            
            setMorph(fraction);
        }

        function setMorph(fraction) {
            // text1/text2 morph
            elts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;
            
            fraction = 1 - fraction;
            elts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;
            
            // text3/text4 morph
            let fraction2 = morph / morphTime;
            elts.text4.style.filter = `blur(${Math.min(8 / fraction2 - 8, 100)}px)`;
            elts.text4.style.opacity = `${Math.pow(fraction2, 0.4) * 100}%`;
            
            fraction2 = 1 - fraction2;
            elts.text3.style.filter = `blur(${Math.min(8 / fraction2 - 8, 100)}px)`;
            elts.text3.style.opacity = `${Math.pow(fraction2, 0.4) * 100}%`;

            // Szöveg frissítése
            elts.text1.textContent = texts[textIndex % texts.length];
            elts.text2.textContent = texts[(textIndex + 1) % texts.length];
            elts.text3.textContent = texts[textIndex % texts.length];
            elts.text4.textContent = texts[(textIndex + 1) % texts.length];
        }

        function doCooldown() {
            morph = 0;
            
            elts.text2.style.filter = "";
            elts.text2.style.opacity = "100%";
            
            elts.text1.style.filter = "";
            elts.text1.style.opacity = "0%";

            elts.text4.style.filter = "";
            elts.text4.style.opacity = "100%";

            elts.text3.style.filter = "";
            elts.text3.style.opacity = "0%";
        }

        function animate() {
            requestAnimationFrame(animate);
            
            let newTime = new Date();
            let shouldIncrementIndex = cooldown > 0;
            let dt = (newTime - time) / 1000;
            time = newTime;
            
            cooldown -= dt;
            
            if (cooldown <= 0) {
                if (shouldIncrementIndex) textIndex++;
                doMorph();
            } else {
                doCooldown();
            }
        }

        animate();
    </script>
</body>
</html>